# CINA DEX (Carbon Protocol) 产品流程文档

## 1. 概述

CINA DEX Trading System Interface 是一个基于 Bancor Carbon 协议的、先进的去中心化交易策略管理平台。它并非一个传统的“兑换（Swap）”应用，而是允许用户以“策略创建者”的身份，在链上部署自动化、非对称的交易策略。

其核心产品价值在于，它让普通用户也能使用专业做市商的工具，通过设定价格区间来实现“低买高卖”的自动化套利，且无需持续盯盘。

## 2. 核心概念：自动化交易策略

与传统 DEX 的“市价单”或“限价单”不同，Carbon 协议引入了“链上策略”的概念。一个策略由一个或两个“订单（Order）”组成，每个订单都在一个指定的价格**区间**内工作。

*   **非对称性:** 买入和卖出的价格区间可以完全不同，甚至不重叠。例如，你可以设置一个策略：在 $1800-$1900 的价格区间内买入 ETH，在 $2500-$2600 的价格区间内卖出 ETH。
*   **自动化:** 策略一旦创建，其买卖逻辑就在链上自动执行，无需用户干预。资金会根据价格的变动，在买单和卖单之间自动流转。
*   **不可逆性:** 卖出订单的收入会自动成为买入订单的资金，反之亦然。这使得策略可以持续地进行“低买高卖”循环。

## 3. 参与角色

*   **策略创建者 (Strategy Creator / Trader):** 平台的核心用户。他们根据对市场的判断，设定价格区间和预算，创建自动化交易策略以期获利。
*   **套利者 (Arbitrageur):** 当链上策略提供的价格优于其他市场的价格时，套利者会与这些策略进行交易，从而帮助策略实现其买卖目标。

## 4. 核心产品流程

### 4.1. 创建新策略

这是平台最核心的用户旅程。应用提供了三种预设的策略模板来简化创建过程。

#### 4.1.1. 一次性策略 (Disposable Strategy)

也称为“区间订单”，用于执行一次性的“低买高卖”。

1.  **选择交易对:** 用户选择想要交易的两种资产，例如 WETH/USDC。
2.  **设置买入区间:** 用户设定一个价格范围（最低价和最高价）用于买入资产（例如，用 USDC 买入 WETH）。
3.  **设置卖出区间:** 用户设定一个**更高**的价格范围用于卖出资产（例如，卖出 WETH 换取 USDC）。
4.  **分配预算:** 用户决定投入多少初始资金（例如，投入 1000 USDC 到买入订单中）。
5.  **创建策略:** 用户提交交易，在链上创建一个新的策略。

**流程示例:**
*   用户设置在 $1800-$1900 区间买入 WETH，在 $2500-$2600 区间卖出 WETH，并投入 1000 USDC。
*   当 WETH 市场价进入 $1800-$1900 区间时，策略会自动将 USDC 买成 WETH。
*   当 WETH 市场价上涨到 $2500-$2600 区间时，策略会自动将之前买入的 WETH 卖出，换回 USDC，完成一轮套利。
*   此后，策略结束。

#### 4.1.2. 循环策略 (Recurring Strategy)

用于执行持续的“高抛低吸”，实现均值回归交易。

1.  **设置买卖区间:** 与一次性策略类似，用户设置一个买入区间和一个卖出区间。
2.  **分配预算:** 用户可以同时为买入订单和卖出订单分配预算。
3.  **创建策略:** 提交交易。

**流程示例:**
*   用户设置在 $1800-$1900 区间买入 WETH，在 $2500-$2600 区间卖出 WETH。
*   当价格在两个区间之间波动时，策略会自动在低位买入，在高位卖出。
*   **关键区别:** 卖出 WETH 获得的 USDC 会**自动**补充到买入订单的预算中；买入 WETH 花费的 USDC，在 WETH 被卖出后又会回到预算中。这形成了一个可以持续运行的自动化交易循环。

#### 4.1.3. 重叠策略 (Overlapping Strategy)

这是一种更高级的策略，买入和卖出的价格区间存在重叠部分，旨在为市场提供更集中的流动性。

*   **设置重叠区间:** 用户设定一个重叠的价格范围和一个点差（Spread）。系统会根据此自动生成买卖订单。
*   **效果:** 在重叠的价格区域内，该策略同时扮演了买家和卖家的角色，能够捕捉到更小的价格波动并赚取点差，类似于一个小型做市商。

### 4.2. 策略模拟器 (`/simulator`)

在投入真实资金之前，用户可以使用模拟器来测试其策略构想。

*   **功能:** 用户可以输入与创建真实策略时完全相同的参数（价格区间、预算等）。
*   **结果:** 模拟器会根据历史数据或预设模型，回测该策略在过去一段时间内的表现，给出预估的收益、亏损、交易次数等数据。
*   **价值:** 帮助用户在零风险的情况下优化和验证自己的交易想法。

### 4.3. 投资组合管理 (`/portfolio`)

用户创建的所有策略都会显示在“我的策略”页面。

*   **功能:**
    *   **查看列表:** 集中展示用户的所有有效策略。
    *   **状态监控:** 实时显示每个策略的当前状态、持仓、预算、累计收益等。
    *   **策略管理:** 用户可以向现有策略中“增加/提取”资金，或者随时“暂停/终止”一个策略。

### 4.4. 浏览市场 (`/explorer`)

这是一个公开的市场页面，展示了协议上所有用户创建的公开策略。

*   **功能:** 用户可以浏览、筛选和分析其他人的策略，从中寻找交易机会或学习策略设置。
*   **透明度:** 提供了对整个协议流动性分布和市场情绪的宏观洞察。
